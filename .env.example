# WaitLessQ Environment Configuration
# Copy this file to .env and update with your actual values

# =============================================================================
# ENVIRONMENT SETTINGS
# =============================================================================
ENVIRONMENT=development
DEBUG=false

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# Primary database for writes
DATABASE_URL=postgresql://waitlessq_user:CHANGE_THIS_PASSWORD@postgres:5432/waitlessq

# Optional: Read replica for read operations (improves performance)
# READ_DATABASE_URL=postgresql://waitlessq_user:CHANGE_THIS_PASSWORD@postgres-read:5432/waitlessq

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
REDIS_URL=redis://redis:6379
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0
# REDIS_PASSWORD=your_redis_password_if_auth_enabled

# =============================================================================
# SECURITY SETTINGS (REQUIRED IN PRODUCTION)
# =============================================================================
# Generate secure random keys using: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=GENERATE_SECURE_SECRET_KEY_32_CHARS_MIN
JWT_SECRET=GENERATE_SECURE_JWT_SECRET_32_CHARS_MIN

# Token expiration settings
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# =============================================================================
# CORS CONFIGURATION
# =============================================================================
# Comma-separated list of allowed origins (REQUIRED IN PRODUCTION)
# Development example: http://localhost:3000,http://localhost:3001
# Production example: https://yourdomain.com,https://app.yourdomain.com
CORS_ORIGINS=http://localhost:3000,http://localhost:3001

# =============================================================================
# FILE UPLOAD SETTINGS
# =============================================================================
MAX_FILE_SIZE=10485760  # 10MB in bytes
UPLOAD_DIR=uploads

# =============================================================================
# PWA GENERATOR SETTINGS
# =============================================================================
PWA_BASE_URL=http://localhost:5001
PWA_GENERATION_TIMEOUT=30
PWA_STORAGE_PATH=/app/storage

# =============================================================================
# EMAIL CONFIGURATION (Optional)
# =============================================================================
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=

# =============================================================================
# RATE LIMITING
# =============================================================================
RATE_LIMIT_PER_MINUTE=100
RATE_LIMIT_PER_HOUR=1000

# =============================================================================
# CACHING SETTINGS
# =============================================================================
CACHE_TTL=300  # 5 minutes
CACHE_ENABLED=true
API_RESPONSE_CACHE_TTL=60  # 1 minute

# =============================================================================
# BACKGROUND JOBS (Celery)
# =============================================================================
CELERY_BROKER_URL=redis://redis:6379/1
CELERY_RESULT_BACKEND=redis://redis:6379/2

# =============================================================================
# MONITORING & METRICS
# =============================================================================
ENABLE_METRICS=true
METRICS_PORT=8001

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
LOG_LEVEL=INFO
LOG_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(message)s

# =============================================================================
# DATABASE OPTIMIZATION
# =============================================================================
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=30
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# =============================================================================
# API SETTINGS
# =============================================================================
API_MAX_PAGE_SIZE=100

# =============================================================================
# WEBSOCKET SETTINGS
# =============================================================================
WS_MESSAGE_QUEUE_SIZE=1000

# =============================================================================
# HEALTH CHECK SETTINGS
# =============================================================================
HEALTH_CHECK_TIMEOUT=5